- name: ensure /tmp is mounted as tmpfs
  mount: name=/tmp
        src=none
        fstype=tmpfs
        opts="size=10%"
        dump=0
        passno=0
        state=present

- name: ensure rpmfusion-free repository is installed
  yum: pkg=http://download1.rpmfusion.org/free/fedora/rpmfusion-free-release-{{ ansible_distribution_version }}.noarch.rpm state=present

- name: ensure rpmfusion-nonfree repository is installed
  yum: pkg=http://download1.rpmfusion.org/nonfree/fedora/rpmfusion-nonfree-release-{{ ansible_distribution_version }}.noarch.rpm state=present

#- name: ensure livna repository is installed
#  yum: pkg=http://rpm.livna.org/livna-release.rpm state=present
- name: ensure livna repository is not installed
  yum: pkg=livna-release state=absent

- name: ensure docker is installed
  yum: pkg=docker-io

- name: ensure docker service runs
  service: name=docker enabled=yes state=started

- include: base.yml tags=fedora-base

- include: certificate.yml

- include: ssmtp.yml tags=ssmtp

- include: logwatch.yml tags=logwatch

- include: tuned.yml tags=tuned

- include: ssd.yml tags=ssd
  when: ansible_devices.sda.rotational == 0

- include: accounts.yml tags=accounts
